# 18轴舵机控制系统 - 功能需求文档

## 项目概述

**硬件平台**
- 主控: Raspberry Pi Pico 2 (RP2350)
- 上位机: AM335x (运行ROS2)
- 通信方式: USB CDC（虚拟串口）
- 控制对象: 18个 MG995 PWM舵机

**系统定位**
作为ROS2机器人系统的底层舵机驱动器，实现18路PWM舵机的集中控制。接收上位机命令并执行舵机控制。

**核心特性**
- 多通道PWM信号生成（18路）
- 标准模拟舵机控制（非总线舵机）
- USB通信接口，便于与ROS2集成
- 支持单轴和多轴同步控制
- 平滑运动插值算法

---

## 功能需求清单

### 1. 通信功能

- [ ] **USB CDC通信**（虚拟串口）
  - 波特率：115200 ~ 921600（可配置）
  - 通信协议：帧格式 + CRC校验
  - 支持ID寻址（单播/广播）
  
- [ ] **通信协议定义**
  - 帧结构：[帧头][ID][命令][长度][数据][CRC][帧尾]
  - CRC-16校验保证可靠性
  - 命令/响应机制
  
- [ ] **命令接收与解析**
  - DMA + 中断接收
  - 状态机解析协议
  - 命令队列/任务调度
  
- [ ] **状态数据上报**
  - 定时反馈（可配置周期）
  - 按需查询
  - CSV/二进制格式可选

### 2. PWM信号生成

- [ ] **18路独立PWM输出**
  - 使用PIO或硬件PWM实现
  - 引脚分配：GPIO 0-17
  
- [ ] **PWM参数**
  - 频率：50Hz（20ms周期）
  - 脉宽范围：500-2500μs
  - 分辨率：≥1μs
  
- [ ] **高精度时序**
  - 基于硬件定时器
  - 抖动控制 <1μs

### 3. 舵机控制

- [ ] **单轴位置控制**
  - 角度值输入（0-180°或自定义）
  - 脉宽直接控制
  
- [ ] **多轴同步控制**
  - 同时设置多个舵机
  - 统一起始时间
  
- [ ] **角度/脉宽转换**
  - 线性映射
  - 每个舵机独立校准参数
  
- [ ] **位置限位保护**
  - 软件限位（min/max）
  - 每个舵机独立限位
  
- [ ] **舵机使能/失能**
  - PWM信号开关控制
  - 全局急停支持

### 4. 运动控制

- [ ] **速度控制**
  - 运动时间参数（毫秒）
  - 角速度限制
  
- [ ] **轨迹插值**
  - 线性插值（基础）
  - S曲线插值（平滑加减速，可选）
  - 梯形曲线（可选）
  
- [ ] **多轴协同运动**
  - 多轴同步到达
  - 插值周期：20ms（与PWM周期同步）

### 5. 参数管理

- [ ] **舵机参数配置**
  - 最小/最大脉宽限位
  - 中位偏移校准
  - 方向反转标志
  - 使能状态默认值
  
- [ ] **参数存储**
  - Flash存储参数
  - 上电自动加载
  - 参数版本管理
  
- [ ] **出厂复位**
  - 恢复默认参数
  - 保留ID（可选）

### 6. 状态反馈

- [ ] **当前位置反馈**
  - 目标位置
  - 运动状态（运动中/到达/空闲）
  
- [ ] **系统状态监控**
  - 通信状态
  - 错误标志
  - 版本信息
  
- [ ] **定时上报**
  - 可配置上报项目
  - 可配置上报周期
  - CSV格式便于调试

### 7. 安全保护

- [ ] **急停功能**
  - 全局紧急停止
  - 立即禁用所有PWM
  
- [ ] **通信超时保护**
  - 超时时间可配置
  - 超时后进入安全状态
  
- [ ] **软件限位保护**
  - 超限拒绝执行
  - 错误状态反馈
  
- [ ] **异常检测**
  - 无效命令检测
  - CRC错误计数
  - 看门狗（可选）

### 8. 高级功能（可选）

- [ ] **LED状态指示**
  - RGB LED显示状态
  - 通信指示灯
  
- [ ] **蜂鸣器反馈**
  - 启动提示音
  - 错误报警
  
- [ ] **任务调度器**
  - 延时执行命令
  - 命令队列管理
  
- [ ] **调试模式**
  - 实时数据流输出
  - 性能监控

---

## 技术规格

### 通信协议设计

**帧格式：**
```
[0xFF] [0xFE] [ID] [CMD] [LEN] [DATA...] [CRC_H] [CRC_L]

字段说明：
- 帧头：0xFF 0xFE（固定）
- ID：舵机/设备ID（0x00=广播，0x01-0xFE=单播）
- CMD：命令字节
- LEN：数据长度
- DATA：数据内容（可变长度）
- CRC：CRC-16校验（CCITT标准）
```

**命令集（初步规划）：**
```
位置控制命令：
0x01 - MOVE_SINGLE      单轴位置控制 [ID, 角度, 速度]
0x02 - MOVE_MULTI       多轴位置控制 [数量, ID1,角度1, ID2,角度2, ..., 速度]
0x03 - MOVE_ALL         全轴位置控制 [角度1~18, 速度] (推荐用于批量)

查询命令：
0x10 - GET_SINGLE       查询单轴状态 [ID]
0x11 - GET_ALL          查询全轴状态
0x12 - GET_STREAM       流式数据上报 [频率]

配置命令：
0x15 - SET_PARAM        参数设置 [ID, 参数类型, 值]
0x20 - ENABLE           使能舵机 [ID] (0xFF=全部)
0x21 - DISABLE          失能舵机 [ID] (0xFF=全部)

存储命令：
0x30 - SAVE_FLASH       保存参数到Flash
0x31 - LOAD_FLASH       从Flash加载参数
0x32 - RESET_FACTORY    恢复出厂设置

系统命令：
0xFE - PING             心跳/连接检测
0xFF - ESTOP            紧急停止
```

**波特率：**
- 默认：115200
- 可选：9600, 57600, 115200, 230400, 460800, 921600

### 舵机规格（MG995）
- 型号：MG995 数字金属齿轮舵机
- 工作电压：4.8V ~ 6.6V（独立供电，推荐6V）
- 堵转扭矩：
  - 4.8V: 8.5 kg·cm
  - 6.0V: 10 kg·cm
- 工作速度：
  - 4.8V: 0.2 sec/60°
  - 6.0V: 0.16 sec/60°
- 角度范围：0° ~ 180°
- 脉宽范围：
  - 最小：500μs (0°)
  - 中位：1500μs (90°)
  - 最大：2500μs (180°)
- PWM频率：50Hz (20ms周期)
- 工作电流：100mA ~ 2500mA（负载相关）
- 待机电流：~10mA
- **供电要求：** 
  - ⚠️ 18个舵机峰值总电流可达45A，必须使用大电流电源
  - 推荐配置：6V/20-30A开关电源
  - 舵机电源与Pico2控制电源隔离，仅共地

### 性能指标
- 控制精度：1μs脉宽分辨率
- 响应延迟：< 10ms（通信到PWM更新）
- PWM更新频率：50Hz（20ms）
- 插值更新频率：50Hz（20ms）
- 通信速率：最高 921600 bps
- 最大并发轴数：18路

---

## 开发计划

### Phase 1: 基础PWM功能 ⭐
**目标：** 实现18路PWM信号输出和基本控制

- [ ] 项目框架搭建
- [ ] PIO程序设计（18路PWM生成）
- [ ] 单路PWM测试
- [ ] 18路PWM并行输出
- [ ] 角度到脉宽转换函数
- [ ] 简单串口命令测试（设置单轴位置）

**验收标准：** 通过串口命令可以控制任意一路舵机转动到指定角度

---

### Phase 2: 通信协议 ⭐⭐
**目标：** 实现完整的通信协议和命令解析

- [ ] USB CDC虚拟串口初始化
- [ ] 帧格式定义
- [ ] CRC-16校验算法实现
- [ ] 接收状态机实现
- [ ] 基本命令实现：
  - MOVE（位置控制）
  - GET（状态查询）
  - SET（参数设置）
  - ENABLE/DISABLE
  - ESTOP
- [ ] 命令测试工具（Python脚本）

**验收标准：** 协议通信稳定，CRC校验正常，命令响应正确

---

### Phase 3: 运动控制 ⭐⭐
**目标：** 实现平滑运动和多轴同步

- [ ] 运动插值引擎
  - 线性插值
  - 时间控制
- [ ] 多轴同步控制
- [ ] 定时器中断（20ms更新周期）
- [ ] 限位保护实现
- [ ] S曲线插值（可选）

**验收标准：** 舵机运动平滑无抖动，多轴可同步运动

---

### Phase 4: 参数管理 ⭐
**目标：** 参数配置和持久化

- [ ] Flash存储结构设计
- [ ] 参数读写接口
- [ ] 校准参数管理
- [ ] 出厂复位功能
- [ ] 参数导入/导出工具

**验收标准：** 参数掉电不丢失，可通过命令读写

---

### Phase 5: 高级功能 ⭐
**目标：** 状态反馈和调试功能

- [ ] 状态反馈功能
- [ ] 定时数据流上报
- [ ] LED状态指示（可选）
- [ ] 错误处理和日志
- [ ] 看门狗保护

**验收标准：** 可实时监控所有舵机状态

---

### Phase 6: ROS2集成 ⭐⭐⭐
**目标：** 开发ROS2接口节点

- [ ] ROS2节点框架
- [ ] serial库集成
- [ ] 协议封装类
- [ ] joint_state发布器
- [ ] 命令订阅器
- [ ] 参数服务器
- [ ] Launch文件

**验收标准：** 可通过ROS2话题/服务控制18轴舵机

---

### Phase 7: 测试与优化 ⭐
**目标：** 系统测试和性能优化

- [ ] 通信压力测试
- [ ] 长时间稳定性测试
- [ ] 性能优化
- [ ] 文档完善
- [ ] 使用手册编写

**验收标准：** 系统稳定运行24小时无异常

---

## ROS2集成方案

### 通信架构

```
┌─────────────────────────────────────┐
│      ROS2 节点 (AM335x)              │
│  ┌────────────────────────────────┐ │
│  │  ServoController Node          │ │
│  │  - 订阅：/servo_command        │ │
│  │  - 发布：/servo_state          │ │
│  │  - 服务：set_params, get_status│ │
│  └────────────────────────────────┘ │
└──────────────┬──────────────────────┘
               │ USB CDC
               │ (虚拟串口)
               ▼
┌─────────────────────────────────────┐
│   18轴舵机控制器 (RP2350)            │
│  ┌────────────────────────────────┐ │
│  │  协议解析 + PWM生成             │ │
│  └────────────────────────────────┘ │
└──────────────┬──────────────────────┘
               │ PWM信号
               ▼
        ┌──────────────┐
        │ 18个MG995舵机 │
        └──────────────┘
```

### ROS2命令下发策略 ⚠️ **重要设计考虑**

#### 方案对比

| 方案 | 优点 | 缺点 | 适用场景 |
|------|------|------|---------|
| **单条下发** | 实现简单，延迟低 | 18个舵机需18条命令，USB负载高 | 单轴控制 |
| **批量下发** | 通信效率高，带宽占用少 | 需缓冲区，延迟稍高 | 多轴同步运动 |

#### 推荐方案：**混合模式** ✅

**1. 命令类型设计**
```
底层协议命令：
- MOVE_SINGLE [ID] [角度] [速度]     → 单轴控制
- MOVE_MULTI  [数量] [ID1,角度1] ... → 多轴选择性控制
- MOVE_ALL    [角度1~18] [速度]      → 全轴批量控制 (推荐!)

ROS2映射：
- MOVE_SINGLE ← /servo_controller/command_single
- MOVE_ALL    ← /servo_controller/command (JointState)
```

**2. ROS2消息设计**
```python
# 方案A：单轴控制（低效，不推荐用于多轴）
std_msgs/Float32MultiArray
  layout:
    dim: [1, 3]  # [servo_id, angle, speed_ms]
  data: [5, 90.0, 1000]
  
话题: /servo_controller/command_single
底层命令: MOVE_SINGLE

# 方案B：批量控制（推荐！） ⭐
sensor_msgs/JointState
  name: ['servo_0', 'servo_1', ..., 'servo_17']  # 18个舵机名
  position: [90.0, 45.0, 120.0, ..., 60.0]       # 18个角度值
  velocity: []                                    # 留空使用默认速度
  effort: [1000]                                  # 统一运动时间(ms)
  
话题: /servo_controller/command
底层命令: MOVE_ALL (0x03)
优势: 一条命令控制18个舵机，效率最高
```

**3. 通信效率分析**

**单条模式：**
- 每条命令：10字节（帧头2 + ID1 + CMD1 + LEN1 + 角度2 + 速度2 + CRC2）
- 18个舵机：180字节
- 115200 bps下：~15ms传输时间

**批量模式：**
- 一条命令：60字节（帧头2 + ID1 + CMD1 + LEN1 + 18×(ID1+角度2) + 速度2 + CRC2）
- 115200 bps下：~5ms传输时间
- **效率提升：3倍** ⚡

**4. 推荐实现**

```
优先级队列：
1. ESTOP（最高优先级）- 立即执行
2. 单轴快速命令 - 低延迟
3. 批量运动命令 - 高效率
4. 参数设置 - 非实时
5. 状态查询 - 后台轮询
```

### ROS2话题设计

**发布话题：**
- `/servo_controller/joint_states` (sensor_msgs/JointState) - 当前状态
- `/servo_controller/status` (std_msgs/String) - 系统状态

**订阅话题：**
- `/servo_controller/command` (sensor_msgs/JointState) - 位置命令（批量）
- `/servo_controller/command_single` (geometry_msgs/Float32MultiArray) - 单轴命令

**服务：**
- `/servo_controller/set_param` - 参数设置
- `/servo_controller/get_status` - 状态查询
- `/servo_controller/emergency_stop` - 紧急停止
- `/servo_controller/reset` - 系统复位

### 性能目标

- **单轴命令延迟：** < 20ms (ROS2发布到舵机开始运动)
- **批量命令延迟：** < 30ms (18轴同时更新)
- **状态反馈频率：** 10-50Hz (可配置)
- **USB通信稳定性：** 无丢包，CRC校验

---

## 关键技术要点

### 1. PWM精度控制
- MG995对脉宽精度要求高（±5μs误差可能导致抖动）
- ✅ **使用RP2350的24个硬件PWM通道**（非PIO方案）
- ✅ 硬件PWM由定时器自动生成，**完全不受中断影响**
- ✅ 精度：±0.5μs（2MHz时钟），远优于需求
- ⚠️ PIO方案保留未使用（未来可用于其他功能）

### 2. 供电考虑
- 18个MG995峰值电流：18 × 2.5A = 45A
- 推荐：独立6V大电流电源（至少20A容量）
- Pico2与舵机电源隔离，共地
- 每个舵机旁加100μF退耦电容

### 3. 通信可靠性
- CRC-16校验防止数据损坏
- 超时重传机制
- 命令确认机制（可选）

### 4. 性能优化
- 批量命令减少USB开销
- DMA传输降低CPU占用
- 中断优先级合理设置

---

## 备注

- **文档版本:** v0.3
- **创建日期:** 2025-10-21
- **更新日期:** 2025-10-21
- **状态:** 需求分析完成，待开始开发

---

## 待确认事项

### 硬件配置 ✅ 已确认
- ✅ **GPIO引脚分配：** GPIO 0-17用于18路PWM输出
- ✅ **LED状态指示：** 使用板载LED (GP25)
- ✅ **蜂鸣器：** 不需要
- ✅ **电源方案：** 舵机独立供电（6V/20-30A）

### Pico 2 引脚分配表

#### 舵机PWM输出引脚（GPIO 0-17）
| 舵机ID | GPIO | Pin | 功能 | 备注 |
|--------|------|-----|------|------|
| Servo 0 | GP0 | Pin 1 | PWM输出 | 舵机0控制信号 |
| Servo 1 | GP1 | Pin 2 | PWM输出 | 舵机1控制信号 |
| Servo 2 | GP2 | Pin 4 | PWM输出 | 舵机2控制信号 |
| Servo 3 | GP3 | Pin 5 | PWM输出 | 舵机3控制信号 |
| Servo 4 | GP4 | Pin 6 | PWM输出 | 舵机4控制信号 |
| Servo 5 | GP5 | Pin 7 | PWM输出 | 舵机5控制信号 |
| Servo 6 | GP6 | Pin 9 | PWM输出 | 舵机6控制信号 |
| Servo 7 | GP7 | Pin 10 | PWM输出 | 舵机7控制信号 |
| Servo 8 | GP8 | Pin 11 | PWM输出 | 舵机8控制信号 |
| Servo 9 | GP9 | Pin 12 | PWM输出 | 舵机9控制信号 |
| Servo 10 | GP10 | Pin 14 | PWM输出 | 舵机10控制信号 |
| Servo 11 | GP11 | Pin 15 | PWM输出 | 舵机11控制信号 |
| Servo 12 | GP12 | Pin 16 | PWM输出 | 舵机12控制信号 |
| Servo 13 | GP13 | Pin 17 | PWM输出 | 舵机13控制信号 |
| Servo 14 | GP14 | Pin 19 | PWM输出 | 舵机14控制信号 |
| Servo 15 | GP15 | Pin 20 | PWM输出 | 舵机15控制信号 |
| Servo 16 | GP16 | Pin 21 | PWM输出 | 舵机16控制信号 |
| Servo 17 | GP17 | Pin 22 | PWM输出 | 舵机17控制信号 |

#### 系统功能引脚
| 功能 | GPIO | Pin | 说明 |
|------|------|-----|------|
| 板载LED | GP25 | - | 系统状态指示 |
| USB通信 | - | USB接口 | 虚拟串口通信 |
| 电源输入 | VBUS | Pin 40 | USB 5V输入 |
| 系统电源 | VSYS | Pin 39 | 外部电源输入 |
| 3.3V输出 | - | Pin 36 | 3.3V稳压输出 |
| 复位 | RUN | Pin 30 | 低电平复位 |

#### 电源分配方案
```
舵机电源系统：
┌─────────────────┐    ┌─────────────────┐
│   6V/20-30A     │    │   Pico 2 控制   │
│   开关电源       │    │   3.3V供电      │
└─────────┬───────┘    └─────────┬───────┘
          │                      │
          │                      │
          ▼                      ▼
    ┌─────────────┐        ┌─────────────┐
    │ 18个MG995   │        │ RP2350芯片  │
    │ 舵机        │        │ 控制逻辑    │
    └─────────────┘        └─────────────┘
          │                      │
          └──────────┬───────────┘
                     │
                  ┌──▼──┐
                  │ GND │ 共地
                  └─────┘
```

#### 6足机器人舵机分配建议
```
机器人腿部布局：
    前腿(左)    前腿(右)
       0          1
       2          3
       4          5
    中腿(左)    中腿(右)
       6          7
       8          9
      10         11
    后腿(左)    后腿(右)
      12         13
      14         15
      16         17

每条腿3个舵机：
- 舵机0: 髋关节 (左右摆动)
- 舵机1: 大腿关节 (前后摆动)  
- 舵机2: 小腿关节 (前后摆动)

#### 引脚使用总结
```
Pico 2 引脚使用情况：
✅ 已使用: GPIO 0-17 (18个PWM输出)
✅ 已使用: GP25 (板载LED)
✅ 已使用: USB接口 (通信)
✅ 已使用: VBUS/VSYS (电源)
✅ 已使用: GND (接地)

剩余可用引脚：
- GPIO 18-24: 可用于扩展功能
- GPIO 26-28: ADC功能，可用于传感器
- 其他引脚: 调试、扩展接口
```

### 软件功能优先级 ✅ 已确认
- ✅ **必须：** 基础PWM + USB通信 + 基本运动控制
- ✅ **重要：** 批量命令 + Flash参数存储 + 安全保护
- ✅ **可选：** S曲线插值 + 任务调度 + LED指示

### ROS2集成 ✅ 已确认
- ✅ **应用场景：** 6足机器人控制
- ✅ **开发语言：** C++ (ROS2节点)
- ✅ **控制语言：** C (Pico2固件)
- ✅ **通信方式：** USB CDC虚拟串口
- ✅ **批量命令：** 优先实现，提高效率
- ✅ **状态反馈：** 10-20Hz

### 系统架构设计 ✅ 已确认
- ✅ **RTOS：** 使用FreeRTOS（Pico2支持）
- ✅ **状态机：** 通信协议解析使用状态机
- ✅ **任务调度：** 多任务并行处理
- ✅ **中断优先级：** PWM > 通信 > 系统任务

### 双核优化方案 ⚡ **性能提升关键**

#### 核心分配策略
```
Core 0 (主控核):
├── 通信协议处理
├── 命令解析与验证
├── 运动插值计算
├── 状态反馈生成
└── 系统管理任务

Core 1 (PWM专用核):
├── 18路PWM信号生成
├── 实时时序控制
├── 脉宽更新计算
└── 硬件中断处理
```

#### 双核通信机制
```c
// 核心间通信队列
QueueHandle_t command_queue;     // 命令队列 (Core0 → Core1)
QueueHandle_t status_queue;      // 状态队列 (Core1 → Core0)
SemaphoreHandle_t pwm_sync;      // PWM同步信号量
```

#### 性能优化效果
| 功能 | 单核方案 | 双核方案 | 性能提升 |
|------|---------|---------|---------|
| **PWM精度** | 受通信中断影响 | 专用核，无干扰 | **±1μs → ±0.1μs** |
| **通信延迟** | 与PWM竞争资源 | 独立处理 | **20ms → 5ms** |
| **插值计算** | 阻塞PWM更新 | 并行处理 | **实时性提升3倍** |
| **系统响应** | 单任务队列 | 双核并行 | **吞吐量提升2倍** |

#### 具体实现方案

**Core 0 任务分配：**
```c
// 主控核任务优先级
Task 1: USB通信处理     (优先级: 3)
Task 2: 协议解析        (优先级: 2) 
Task 3: 运动插值        (优先级: 2)
Task 4: 状态反馈        (优先级: 1)
Task 5: 系统监控        (优先级: 1)
```

**Core 1 任务分配：**
```c
// PWM专用核任务
Task 1: PWM信号生成     (优先级: 4) - 最高优先级
Task 2: 脉宽计算        (优先级: 3)
Task 3: 时序同步        (优先级: 2)
Task 4: 硬件中断        (优先级: 5) - 实时中断
```

#### 双核同步机制
```c
// 关键同步点
1. 命令接收 → Core0解析 → 发送到Core1队列
2. Core1接收命令 → 立即更新PWM → 发送状态到Core0
3. 20ms定时器 → 触发插值计算 → 更新所有PWM
4. 紧急停止 → 立即中断Core1 → 禁用所有PWM
```

#### 内存分配优化
```c
// 核心间共享内存
typedef struct {
    uint16_t servo_positions[18];    // 18个舵机位置
    uint16_t servo_speeds[18];       // 18个舵机速度
    uint8_t servo_enable[18];       // 18个舵机使能
    uint32_t sync_timestamp;         // 同步时间戳
} servo_control_t;

// 双核共享结构体
servo_control_t *shared_control;
```

#### 中断分配策略
```c
// Core 0 中断
- USB中断 (USB通信)
- UART中断 (备用通信)
- 定时器中断 (系统时钟)

// Core 1 中断  
- PWM中断 (PWM更新)
- 定时器中断 (20ms插值)
- GPIO中断 (紧急停止)
```

#### 预期性能提升
- **PWM精度：** 从±5μs提升到±0.1μs
- **通信延迟：** 从20ms降低到5ms
- **系统吞吐量：** 提升2-3倍
- **实时性：** 18轴同步控制无抖动
- **稳定性：** 通信与PWM完全隔离

#### 双核实现优势

**1. 实时性保证** ⚡
- Core 1 专用于PWM，不受通信中断影响
- 20ms PWM周期精确控制
- 脉宽精度达到±0.1μs

**2. 通信效率** 📡
- Core 0 专注协议处理
- 批量命令解析不阻塞PWM
- USB通信延迟降低75%

**3. 系统稳定性** 🛡️
- 双核故障隔离
- 一个核心崩溃不影响另一个
- 紧急停止机制更可靠

**4. 扩展性** 🔧
- 未来可添加传感器处理
- 预留Core 0资源用于高级算法
- 支持更复杂的机器人控制

#### 6足机器人应用优势

**运动控制优化：**
```
双核分工：
Core 0: 步态规划 + 轨迹计算 + 通信
Core 1: 18路PWM实时输出 + 同步控制

优势：
- 复杂步态算法不干扰PWM精度
- 18个舵机同步运动无抖动
- 支持高频步态更新（50Hz+）
```

**性能对比：**
| 指标 | 单核方案 | 双核方案 | 机器人应用效果 |
|------|---------|---------|---------------|
| 步态频率 | 10Hz | 50Hz+ | 更流畅的行走 |
| 同步精度 | ±2ms | ±0.1ms | 腿部协调性提升 |
| 响应延迟 | 50ms | 10ms | 实时避障能力 |
| 计算能力 | 受限 | 充足 | 支持复杂算法 |

